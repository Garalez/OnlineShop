{"version":3,"file":"../../scripts/modules/menu.js","names":["navBar","document","querySelector","navMenuBtn","breadCrumb","showMenu","insertAdjacentHTML","menuOverlay","menuWrapper","modalEvents","addEventListener","e","target","closest","duration","distance","clientHeight","startAnimation","callback","NaN","requestAnimationFrame","step","timestamp","progress","easeInOut","time","Math","cos","PI","style","display","classList","add","top","transform","event","remove","setTimeout"],"sources":["modules/menu.js"],"mappings":"AACA,MAAMA,OAASC,SAASC,cAAc,gBAChCC,WAAaF,SAASC,cAAc,oBACpCE,WAAaH,SAASC,cAAc,4BAGpCG,SAAW,KACfL,OAAOM,mBAAmB,YAAa,goFA2EvC,MAAO,CACLC,YAJkBN,SAASC,cAAc,SAKzCM,YAJkBP,SAASC,cAAc,kBAK1C,EAIGO,YAAc,KAClBT,OAAOU,iBAAiB,SAASC,IAG/B,GAFeA,EAAEC,OAENC,QAAQ,oBAAqB,CACtC,MAAMN,YAACA,EAAWC,YAAEA,GAAeH,WAE7BS,EAAW,IACXC,EAAWP,EAAYQ,aAEvBC,EAAiB,CAACH,EAAUI,KAChC,IAAID,EAAiBE,IAErBC,uBAAsB,SAASC,EAAKC,GAClCL,IAAmBK,EAEnB,MAAMC,GAAYD,EAAYL,GAAkBH,EAEhDI,EAASK,GACLA,EAAW,GACbH,sBAAsBC,EAE1B,GAAE,EAGEG,EAAYC,GAAQ,IAAO,EAAIC,KAAKC,IAAID,KAAKE,GAAKH,IACpDrB,aACFA,WAAWyB,MAAMC,QAAU,QAE7B3B,WAAW4B,UAAUC,IAAI,eACzBzB,EAAYwB,UAAUC,IAAI,cAC1BxB,EAAYqB,MAAMI,KAAUlB,EAAW,IAAf,KACxBE,EAAeH,GAAWS,IACxB,MAAMU,EAAMT,EAAUD,GAAYR,EAClCP,EAAYqB,MAAMK,UAAY,cAAcD,MAAQ,IAGtD1B,EAAYG,iBAAiB,SAASyB,IAC/BA,EAAMvB,OAAOC,QAAQ,oBACpBT,aACFA,WAAWyB,MAAMC,QAAU,QAE7B3B,WAAW4B,UAAUK,OAAO,eAC5B5B,EAAYqB,MAAMI,IAASlB,EAAW,IAAd,KACxBE,EAAeH,GAAWS,IACxB,MAAMU,EAAMT,EAAUD,GAAYR,EAClCP,EAAYqB,MAAMK,UAAY,eAAeD,MAAQ,IAEvD1B,EAAYwB,UAAUK,OAAO,cAC7BC,YAAW,KACT9B,EAAY6B,QAAQ,GACnB,KACL,GAEJ,IACA,EAtDFpC,OAAOU,iBAAiB,SAASC,IAG/B,GAFeA,EAAEC,OAENC,QAAQ,oBAAqB,CACtC,MAAMN,YAACA,EAAWC,YAAEA,GAAeH,WAE7BS,EAAW,IACXC,EAAWP,EAAYQ,aAEvBC,EAAiB,CAACH,EAAUI,KAChC,IAAID,EAAiBE,IAErBC,uBAAsB,SAASC,EAAKC,GAClCL,IAAmBK,EAEnB,MAAMC,GAAYD,EAAYL,GAAkBH,EAEhDI,EAASK,GACLA,EAAW,GACbH,sBAAsBC,EAE1B,GAAE,EAGEG,EAAYC,GAAQ,IAAO,EAAIC,KAAKC,IAAID,KAAKE,GAAKH,IACpDrB,aACFA,WAAWyB,MAAMC,QAAU,QAE7B3B,WAAW4B,UAAUC,IAAI,eACzBzB,EAAYwB,UAAUC,IAAI,cAC1BxB,EAAYqB,MAAMI,KAAUlB,EAAW,IAAf,KACxBE,EAAeH,GAAWS,IACxB,MAAMU,EAAMT,EAAUD,GAAYR,EAClCP,EAAYqB,MAAMK,UAAY,cAAcD,MAAQ,IAGtD1B,EAAYG,iBAAiB,SAASyB,IAC/BA,EAAMvB,OAAOC,QAAQ,oBACpBT,aACFA,WAAWyB,MAAMC,QAAU,QAE7B3B,WAAW4B,UAAUK,OAAO,eAC5B5B,EAAYqB,MAAMI,IAASlB,EAAW,IAAd,KACxBE,EAAeH,GAAWS,IACxB,MAAMU,EAAMT,EAAUD,GAAYR,EAClCP,EAAYqB,MAAMK,UAAY,eAAeD,MAAQ,IAEvD1B,EAAYwB,UAAUK,OAAO,cAC7BC,YAAW,KACT9B,EAAY6B,QAAQ,GACnB,KACL,GAEJ","sourcesContent":["/* eslint-disable max-len */\r\nconst navBar = document.querySelector('.header__nav');\r\nconst navMenuBtn = document.querySelector('.header__nav-btn');\r\nconst breadCrumb = document.querySelector('.header__breadcrumb-list');\r\n\r\n\r\nconst showMenu = () => {\r\n  navBar.insertAdjacentHTML('beforeend', `\r\n    <nav class=\"menu\">\r\n      <div class=\"menu__wrapper\">\r\n        <div class=\"menu__hrefs\">\r\n          <ul class=\"menu__catalog-list\">\r\n            <li class=\"menu__catalog-item\">\r\n              Каталог\r\n            </li>\r\n            <li class=\"menu__catalog-item\">\r\n              <a class=\"menu__catalog-link\" href=\"\">Смартфоны</a>\r\n            </li>\r\n            <li class=\"menu__catalog-item\">\r\n              <a class=\"menu__catalog-link\" href=\"\">Ноутбуки</a>\r\n            </li>\r\n            <li class=\"menu__catalog-item\">\r\n              <a class=\"menu__catalog-link\" href=\"\">Ювелирные изделия</a>\r\n            </li>\r\n            <li class=\"menu__catalog-item\">\r\n              <a class=\"menu__catalog-link\" href=\"\">Одежда</a>\r\n            </li>\r\n            <li class=\"menu__catalog-item\">\r\n              <a class=\"menu__catalog-link\" href=\"\">Бытовая техника</a>\r\n            </li>\r\n          </ul>\r\n\r\n          <ul class=\"menu__addition-list\">\r\n            <li class=\"menu__addition-item\">\r\n              <a class=\"menu__addition-link\" href=\"\">Бытовая химия</a>\r\n            </li>\r\n            <li class=\"menu__addition-item\">\r\n              <a class=\"menu__addition-link\" href=\"\">Книги и журналы</a>\r\n            </li>\r\n            <li class=\"menu__addition-item\">\r\n              <a class=\"menu__addition-link\" href=\"\">Домашний текстиль</a>\r\n            </li>\r\n            <li class=\"menu__addition-item\">\r\n              <a class=\"menu__addition-link\" href=\"\">Электроника</a>\r\n            </li>\r\n            <li class=\"menu__addition-item\">\r\n              <a class=\"menu__addition-link\" href=\"\">Косметика</a>\r\n            </li>\r\n          </ul>\r\n\r\n          <ul class=\"menu__clients-list\">\r\n            <li class=\"menu__clients-item\">\r\n              Покупателям\r\n            </li>\r\n            <li class=\"menu__clients-item\">\r\n              <a class=\"menu__clients-link\" href=\"\">Оплата заказа</a>\r\n            </li>\r\n            <li class=\"menu__clients-item\">\r\n              <a class=\"menu__clients-link\" href=\"\">Условия доставки</a>\r\n            </li>\r\n            <li class=\"menu__clients-item\">\r\n              <a class=\"menu__clients-link\" href=\"\">Условия возврата </br> заказа</a>\r\n            </li>\r\n            <li class=\"menu__clients-item\">\r\n              <a class=\"menu__clients-link\" href=\"\">Блог</a>\r\n            </li>\r\n          </ul>\r\n\r\n          <ul class=\"menu__contacts-list\">\r\n            <li class=\"menu__contacts-item\">Связаться с нами</li>\r\n            <li class=\"menu__contacts-item\">\r\n              <a class=\"menu__contacts-link menu__contacts-tel\" href=\"\">Контакты</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  `);\r\n\r\n  const menuOverlay = document.querySelector('.menu');\r\n  const menuWrapper = document.querySelector('.menu__wrapper');\r\n\r\n  return {\r\n    menuOverlay,\r\n    menuWrapper,\r\n  };\r\n};\r\n\r\n\r\nconst modalEvents = () => {\r\n  navBar.addEventListener('click', e => {\r\n    const target = e.target;\r\n\r\n    if (target.closest('.header__nav-btn')) {\r\n      const {menuOverlay, menuWrapper} = showMenu();\r\n\r\n      const duration = 700;\r\n      const distance = menuWrapper.clientHeight;\r\n\r\n      const startAnimation = (duration, callback) => {\r\n        let startAnimation = NaN;\r\n\r\n        requestAnimationFrame(function step(timestamp) {\r\n          startAnimation ||= timestamp;\r\n\r\n          const progress = (timestamp - startAnimation) / duration;\r\n\r\n          callback(progress);\r\n          if (progress < 1) {\r\n            requestAnimationFrame(step);\r\n          }\r\n        });\r\n      };\r\n\r\n      const easeInOut = time => 0.5 * (1 - Math.cos(Math.PI * time));\r\n      if (breadCrumb) {\r\n        breadCrumb.style.display = 'none';\r\n      }\r\n      navMenuBtn.classList.add('menu-active');\r\n      menuOverlay.classList.add('is-visible');\r\n      menuWrapper.style.top = `${-distance / 1.6}px`;\r\n      startAnimation(duration, (progress) => {\r\n        const top = easeInOut(progress) * distance;\r\n        menuWrapper.style.transform = `translateY(${top}px)`;\r\n      });\r\n\r\n      menuOverlay.addEventListener('click', event => {\r\n        if (!event.target.closest('.menu__wrapper')) {\r\n          if (breadCrumb) {\r\n            breadCrumb.style.display = 'flex';\r\n          }\r\n          navMenuBtn.classList.remove('menu-active');\r\n          menuWrapper.style.top = `${distance / 3.3}px`;\r\n          startAnimation(duration, (progress) => {\r\n            const top = easeInOut(progress) * distance;\r\n            menuWrapper.style.transform = `translateY(${-top}px)`;\r\n          });\r\n          menuOverlay.classList.remove('is-visible');\r\n          setTimeout(() => {\r\n            menuOverlay.remove();\r\n          }, 500);\r\n        }\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nmodalEvents();\r\n"]}