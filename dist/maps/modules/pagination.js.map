{"version":3,"file":"../../scripts/modules/pagination.js","names":["loadPosts","blogWrapper","document","querySelector","pagination","async","postPage","URLSearchParams","location","search","get","data","paginationWrapper","createElement","classList","add","previousPage","pageList","pageNumber","meta","page","textContent","style","display","pageNumberClone","cloneNode","thirdPage","nextPage","pages","addEventListener","href","append","childNodes","forEach","elem","toString","after"],"sources":["modules/pagination.js"],"mappings":"OAAQA,cAAgB,YAExB,MAAMC,YAAcC,SAASC,cAAc,wBAEpC,MAAMC,WAAaC,UACxB,MACMC,EADa,IAAIC,gBAAgBC,SAASC,QACpBC,IAAI,QAC1BC,QAAaX,UAAUM,GAEvBM,EAAoBV,SAASW,cAAc,OACjDD,EAAkBE,UAAUC,IAAI,SAEhC,MAAMC,EAAed,SAASW,cAAc,KAC5CG,EAAaF,UAAUC,IAAI,uBAE3B,MAAME,EAAWf,SAASW,cAAc,MACxCI,EAASH,UAAUC,IAAI,eAEvB,MAAMG,EAAahB,SAASW,cAAc,KAC1CK,EAAWJ,UAAUC,IAAI,eACS,IAA9BJ,EAAKQ,KAAKf,WAAWgB,MACvBF,EAAWG,YAAc,GACzBL,EAAaM,MAAMC,QAAU,QAE7BL,EAAWG,YAAcV,EAAKQ,KAAKf,WAAWgB,KAAO,EAEvD,MAAMI,EAAkBN,EAAWO,YACnCD,EAAgBH,YAAcV,EAAKQ,KAAKf,WAAWgB,KACnD,MAAMM,EAAYF,EAAgBC,YAE5BE,EAAWzB,SAASW,cAAc,KACxCc,EAASb,UAAUC,IAAI,mBAEnBJ,EAAKQ,KAAKf,WAAWgB,OAAST,EAAKQ,KAAKf,WAAWwB,OACrDF,EAAUL,YAAc,GACxBM,EAASL,MAAMC,QAAU,QAEzBG,EAAUL,YAAcV,EAAKQ,KAAKf,WAAWgB,KAAO,EAGtDO,EAASE,iBAAiB,SAAS,KACjClB,EAAKQ,KAAKf,WAAWgB,MAAQ,EAC7BO,EAASG,KAAO,kBAAkBnB,EAAKQ,KAAKf,WAAWgB,MAAM,IAG/DJ,EAAaa,iBAAiB,SAAS,KACrClB,EAAKQ,KAAKf,WAAWgB,MAAQ,EACK,IAA9BT,EAAKQ,KAAKf,WAAWgB,KACvBJ,EAAac,KAAO,YAEpBd,EAAac,KAAO,kBAAkBnB,EAAKQ,KAAKf,WAAWgB,MAC7D,IAGFR,EAAkBmB,OAAOf,EAAcC,EAAUU,GACjDV,EAASc,OAAOb,EAAYM,EAAiBE,GAE7CT,EAASe,WAAWC,SAAQC,IAC1BA,EAAKL,iBAAiB,SAAS,KACzBK,EAAKb,cAAgB,GAAIc,WAC3BD,EAAKJ,KAAO,YAEZI,EAAKJ,KAAO,kBAAkBI,EAAKb,aACrC,GACA,IAGJpB,YAAYmC,MAAMxB,EAAkB","sourcesContent":["import {loadPosts} from './data.js';\r\n\r\nconst blogWrapper = document.querySelector('.blog-wrapper');\r\n\r\nexport const pagination = async () => {\r\n  const pageParams = new URLSearchParams(location.search);\r\n  const postPage = pageParams.get('page');\r\n  const data = await loadPosts(postPage);\r\n\r\n  const paginationWrapper = document.createElement('div');\r\n  paginationWrapper.classList.add('pages');\r\n\r\n  const previousPage = document.createElement('a');\r\n  previousPage.classList.add('pages__btn-previous');\r\n\r\n  const pageList = document.createElement('ul');\r\n  pageList.classList.add('pages__list');\r\n\r\n  const pageNumber = document.createElement('a');\r\n  pageNumber.classList.add('pages__item');\r\n  if (data.meta.pagination.page === 1) {\r\n    pageNumber.textContent = '';\r\n    previousPage.style.display = 'none';\r\n  } else {\r\n    pageNumber.textContent = data.meta.pagination.page - 1;\r\n  }\r\n  const pageNumberClone = pageNumber.cloneNode();\r\n  pageNumberClone.textContent = data.meta.pagination.page;\r\n  const thirdPage = pageNumberClone.cloneNode();\r\n\r\n  const nextPage = document.createElement('a');\r\n  nextPage.classList.add('pages__btn-next');\r\n\r\n  if (data.meta.pagination.page === data.meta.pagination.pages) {\r\n    thirdPage.textContent = '';\r\n    nextPage.style.display = 'none';\r\n  } else {\r\n    thirdPage.textContent = data.meta.pagination.page + 1;\r\n  }\r\n\r\n  nextPage.addEventListener('click', () => {\r\n    data.meta.pagination.page += 1;\r\n    nextPage.href = `blog.html?page=${data.meta.pagination.page}`;\r\n  });\r\n\r\n  previousPage.addEventListener('click', () => {\r\n    data.meta.pagination.page -= 1;\r\n    if (data.meta.pagination.page === 1) {\r\n      previousPage.href = `blog.html`;\r\n    } else {\r\n      previousPage.href = `blog.html?page=${data.meta.pagination.page}`;\r\n    }\r\n  });\r\n\r\n  paginationWrapper.append(previousPage, pageList, nextPage);\r\n  pageList.append(pageNumber, pageNumberClone, thirdPage);\r\n\r\n  pageList.childNodes.forEach(elem => {\r\n    elem.addEventListener('click', () => {\r\n      if (elem.textContent === (1).toString()) {\r\n        elem.href = `blog.html`;\r\n      } else {\r\n        elem.href = `blog.html?page=${elem.textContent}`;\r\n      }\r\n    });\r\n  });\r\n\r\n  blogWrapper.after(paginationWrapper);\r\n};\r\n"]}